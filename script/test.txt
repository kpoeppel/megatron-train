, 'num_layers_at_start_in_bf16': 1, 'num_layers_per_virtual_pipeline_stage': None, 'num_query_groups': 8, 'num_virtual_stages_per_pipeline_rank': None, 'num_workers': 2, 'object_storage_cache_path': None, 'one_logger_async': False, 'one_logger_project': 'megatron-lm', 'one_logger_run_name': None, 'onnx_safe': None, 'openai_gelu': False, 'optimizer': 'adam', 'optimizer_cpu_offload': False, 'optimizer_offload_fraction': 1.0, 'output_bert_embeddings': False, 'overlap_cpu_optimizer_d2h_h2d': False, 'overlap_grad_reduce': False, 'overlap_moe_expert_parallel_comm': False, 'overlap_p2p_comm': True, 'overlap_p2p_comm_warmup_flush': False, 'overlap_param_gather': False, 'overlap_param_gather_with_optimizer_step': False, 'override_opt_param_scheduler': False, 'padded_vocab_size': None, 'patch_dim': 16, 'per_split_data_args_path': None, 'perform_initialization': True, 'perform_rl_step': False, 'pin_cpu_grads': True, 'pin_cpu_params': True, 'pipeline_model_parallel_comm_backend': None, 'pipeline_model_parallel_layout': None, 'pipeline_model_parallel_size': 1, 'position_embedding_type': 'learned_absolute', 'pretrained_checkpoint': None, 'profile': False, 'profile_ranks': [0], 'profile_step_end': 12, 'profile_step_start': 10, 'q_lora_rank': None, 'qk_head_dim': 128, 'qk_l2_norm': False, 'qk_layernorm': False, 'qk_pos_emb_head_dim': 64, 'query_in_block_prob': 0.1, 'rampup_batch_size': None, 'recompute_activations': False, 'recompute_granularity': None, 'recompute_method': None, 'recompute_modules': None, 'recompute_num_layers': None, 'record_memory_history': False, 'relative_attention_max_distance': 128, 'relative_attention_num_buckets': 32, 'replication': False, 'replication_factor': 2, 'replication_jump': None, 'rerun_mode': 'validate_results', 'reset_attention_mask': False, 'reset_position_ids': False, 'result_rejected_tracker_filename': None, 'retriever_report_topk_accuracies': [], 'retriever_score_scaling': False, 'retriever_seq_length': 256, 'retro_add_retriever': False, 'retro_attention_gate': 1, 'retro_cyclic_train_iters': None, 'retro_encoder_attention_dropout': 0.1, 'retro_encoder_hidden_dropout': 0.1, 'retro_encoder_layers': 2, 'retro_num_neighbors': 2, 'retro_num_retrieved_chunks': 2, 'retro_project_dir': None, 'retro_verify_neighbor_count': True, 'reuse_grad_buf_for_mxfp8_param_ag': False, 'rl_offload_optimizer_during_inference': False, 'rl_prompts_per_eval': 32, 'rope_scaling_factor': 8.0, 'rope_type': None, 'rotary_base': 10000, 'rotary_interleaved': False, 'rotary_percent': 1.0, 'rotary_scaling_factor': 1.0, 'rotary_seq_len_interpolation_factor': None, 'run_workload_inspector_server': False, 'sample_rate': 1.0, 'save': None, 'save_interval': None, 'save_retain_interval': None, 'scatter_gather_tensors_in_pipeline': True, 'seed': 1234, 'seq_length': 4096, 'sequence_parallel': False, 'sft': False, 'sft_tokenizer_prompt_format': 'nemotron-h-aligned', 'sgd_momentum': 0.9, 'sharp_enabled_group': None, 'short_seq_prob': 0.1, 'skip_train': False, 'spec': None, 'split': None, 'squared_relu': False, 'start_weight_decay': None, 'straggler_ctrlr_port': 65535, 'straggler_minmax_count': 1, 'strict_fsdp_dtensor_load': True, 'suggested_communication_unit_size': None, 'swiglu': False, 'swin_backbone_type': 'tiny', 'symmetric_ar_type': None, 'te_rng_tracker': False, 'tensor_model_parallel_size': 1, 'tensorboard_dir': '${output_dir}/tensorboard', 'tensorboard_log_interval': 1, 'tensorboard_queue_size': 1000, 'test_data_path': None, 'test_mode': False, 'tiktoken_num_special_tokens': 1000, 'tiktoken_pattern': None, 'tiktoken_special_tokens': None, 'timing_log_level': 0, 'timing_log_option': 'minmax', 'titles_data_path': None, 'tokenizer_model': None, 'tokenizer_type': None, 'torch_fsdp2_reshard_after_forward': True, 'tp_comm_bootstrap_backend': 'nccl', 'tp_comm_bulk_dgrad': True, 'tp_comm_bulk_wgrad': True, 'tp_comm_overlap': False, 'tp_comm_overlap_ag': True, 'tp_comm_overlap_cfg': None, 'tp_comm_overlap_rs': True, 'tp_comm_overlap_rs_dgrad': False, 'tp_comm_split_ag': True, 'tp_comm_split_rs': True, 'train_data_path': None, 'train_iters': None, 'train_samples': None, 'train_sync_interval': None, 'transformer_impl': 'transformer_engine', 'trust_remote_code': False, 'untie_embeddings_and_output_weights': False, 'use_checkpoint_args': False, 'use_checkpoint_opt_param_scheduler': False, 'use_cpu_initialization': None, 'use_dist_ckpt_deprecated': False, 'use_distributed_optimizer': False, 'use_flash_attn': False, 'use_fused_weighted_squared_relu': False, 'use_legacy_models': False, 'use_megatron_fsdp': False, 'use_mp_args_from_checkpoint_args': False, 'use_one_sent_docs': False, 'use_persistent_ckpt_worker': False, 'use_precision_aware_optimizer': False, 'use_pytorch_profiler': False, 'use_ring_exchange_p2p': False, 'use_rope_scaling': False, 'use_rotary_position_embeddings': False, 'use_sharp': False, 'use_te_activation_func': False, 'use_tokenizer_model_from_checkpoint_args': True, 'use_torch_fsdp2': False, 'use_torch_optimizer_for_cpu_offload': False, 'use_tp_pp_dp_mapping': False, 'v_head_dim': 128, 'valid_data_path': None, 'vision_backbone_type': 'vit', 'vision_pretraining': False, 'vision_pretraining_type': 'classify', 'vocab_extra_ids': 0, 'vocab_file': None, 'vocab_size': None, 'wandb_entity': '', 'wandb_exp_name': '', 'wandb_project': '', 'wandb_save_dir': '', 'warmup': None, 'weight_decay': 0.01, 'weight_decay_incr_style': 'constant', 'wgrad_deferral_limit': 0, 'yaml_cfg': None}, 'slurm': {'account': '${oc.env:SLURM_ACCOUNT,""}', 'partition': '${oc.env:SLURM_PARTITION,""}', 'time': '00:20:00', 'ntasks_per_node': 1, 'gpus_per_node': 4, 'gres': 'gpu:4', 'threads_per_core': 1, 'output': '${output_dir}/%j.out', 'nodes': 1, 'total_gpus': '${oc.muli:${.nodes},${.gpus_per_node}}', 'template': 'jupiter.sh'}, 'env': {'SLURM_ACCOUNT': '${oc.env:SLURM_ACCOUNT,""}', 'SLURM_PARTITION': '${oc.env:SLURM_PARTITION,""}', 'TRITON_LIBCUDA_PATH': '/usr/local/cuda/lib64/stubs', 'NCCL_IB_TIMEOUT': 120, 'CUDA_DEVICE_MAX_CONNECTIONS': 1, 'PYTHONPATH': '.', 'HF_HUB_OFFLINE': 1, 'TRANSFORMERS_OFFLINE': 1, 'PROJECT_DIR': '${oc.env:PROJECT_DIR,""}', 'APPTAINER_CACHE_DIR': '${oc.env:APPTAINER_CACHE_DIR,""}', 'CONTAINER_CACHE_DIR': '${oc.env:CONTAINER_CACHE_DIR,""}', 'RUN_DIR': '${.PROJECT_DIR}', 'OUTPUT_DIR': '${oc.env:OUTPUT_DIR,""}', 'MACHINEFILE': '"${.PROJECT_DIR}/output/hostfile"', 'MACHINE_NAME': 'JUPITER'}, 'launcher': {'image': '${oc.env:CONTAINER_CACHE_DIR,:}/MegatronTraining_x86_64_04092025.sif', 'distributed_args': ' --nproc-per-node ${slurm.gpus_per_node} --nnodes ${slurm.nodes}', 'cmd': 'singularity exec --nv ${.image} python -u -m torch.distributed.run ${.distributed_args} --rdzv_endpoint $MASTER_ADDR:$MASTER_PORT --rdvz_backend static --max_restarts 0 --tee 3 --node_rank $SLURM_PROCID'}, 'srun': {'opts': '--wait=60 --cpus-per-task=280 --threads-per-core=1'}, 'experiment_name': 'debug', 'total_num_gpus': '${oc.muli:${slurm.nodes},${slurm.gpus_per_node},${slurm.ntasks_per_node}}', 'global_batch_size': '${oc.muli:${.total_num_gpus},${oc.int:${oc.select:megatron.micro_batch_size,1}}}', 'output_dir': '${oc.env:OUTPUT_DIR,""}/megatron_train_${oc.timestring:}'}
SlurmConfig(_non_strict=True, nodes=1, gpus_per_node=4, account='jureap59', partition='booster', total_gpus=4, template='jupiter.sh')
Output Directory: /e/project1/projectnucleus/poeppel1/output/megatron_train_20250913_132829_608
Successful, to execute, run: sbatch /e/project1/projectnucleus/poeppel1/output/megatron_train_20250913_132829_608/train_megatron.sbatch